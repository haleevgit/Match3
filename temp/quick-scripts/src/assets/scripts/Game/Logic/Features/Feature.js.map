{"version":3,"sources":["assets/scripts/Game/Logic/Features/Feature.js"],"names":["cc","Class","Component","properties","initializingEvent","GameEvent","BOMB_IS_AVAILABLE","type","scoreForInitializing","Integer","elementsForDeleting","Array","onEnable","_handleSubscription","onDisable","isOn","func","systemEvent","onInitializingEvent","CHECK_SCORES_FOR_ABILITY","onCheckScoreForAbility","featureCoordinate","fieldWidth","fieldHeight","console","log","_elementsForDeleting","kindAbility","emit","IS_SCORE_ENOUGH"],"mappings":";;;;;;AACA;;;;AADA;AAEA;AAEAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACR;IACAC,iBAAiB,EAAE;MAAE,WAASC,qBAAA,CAAUC,iBAArB;MAAwCC,IAAI,EAAEF;IAA9C,CAFX;IAGRG,oBAAoB,EAAE;MAAE,WAAS,CAAX;MAAcD,IAAI,EAAEP,EAAE,CAACS;IAAvB,CAHd;IAKRC,mBAAmB,EAAE;MAAC,WAAS,EAAV;MAAcH,IAAI,EAAEI;IAApB,CALb,CAMR;;EANQ,CAHP;EAYL;EACAC,QAbK,sBAaM;IACP,KAAKC,mBAAL,CAAyB,IAAzB;EACH,CAfI;EAiBLC,SAjBK,uBAiBO;IACR,KAAKD,mBAAL,CAAyB,KAAzB;EACH,CAnBI;EAqBL;EAEA;EACAA,mBAxBK,+BAwBeE,IAxBf,EAwBqB;IACtB,IAAMC,IAAI,GAAGD,IAAI,GAAG,IAAH,GAAU,KAA3B;IAEAf,EAAE,CAACiB,WAAH,CAAeD,IAAf,EAAqB,KAAKZ,iBAA1B,EAA6C,KAAKc,mBAAlD,EAAuE,IAAvE;IACAlB,EAAE,CAACiB,WAAH,CAAeD,IAAf,EAAqBX,qBAAA,CAAUc,wBAA/B,EAAyD,KAAKC,sBAA9D,EAAsF,IAAtF;EACH,CA7BI;EA+BLF,mBA/BK,+BA+BeG,iBA/Bf,EA+BkCC,UA/BlC,EA+B8CC,WA/B9C,EA+B2D;IAC5D,IAAG,CAACF,iBAAD,IAAsB,CAACE,WAAvB,IAAsC,CAACD,UAA1C,EACIE,OAAO,CAACC,GAAR,CAAY,qCAAZ;IAEJ,OAAO,KAAKC,oBAAZ;EACH,CApCI;EAsCLN,sBAtCK,kCAsCkBO,WAtClB,EAsC+B;IAChC3B,EAAE,CAACiB,WAAH,CAAeW,IAAf,CAAoBvB,qBAAA,CAAUwB,eAA9B,EAA+CF,WAA/C,EAA4D,KAAKnB,oBAAjE;EACH;AAxCI,CAAT","sourceRoot":"/","sourcesContent":["//#region classes-helpers\nimport GameEvent from 'GameEvent';\n//#endregion\n \ncc.Class({\n    extends: cc.Component,\n \n    properties: {\n        //#region editors fields and properties\n        initializingEvent: { default: GameEvent.BOMB_IS_AVAILABLE, type: GameEvent },\n        scoreForInitializing: { default: 0, type: cc.Integer },\n\n        elementsForDeleting: {default: [], type: Array},\n        //#endregion\n    },\n \n    //#region life-cycle callbacks\n    onEnable() {\n        this._handleSubscription(true);\n    },\n \n    onDisable() {\n        this._handleSubscription(false);\n    },\n \n    //#endregion\n \n    //#region private methods\n    _handleSubscription(isOn) {\n        const func = isOn ? 'on' : 'off';\n \n        cc.systemEvent[func](this.initializingEvent, this.onInitializingEvent, this);\n        cc.systemEvent[func](GameEvent.CHECK_SCORES_FOR_ABILITY, this.onCheckScoreForAbility, this);\n    },\n\n    onInitializingEvent(featureCoordinate, fieldWidth, fieldHeight) {\n        if(!featureCoordinate || !fieldHeight || !fieldWidth)\n            console.log(\"Not enough data for initializing!!!\");\n\n        return this._elementsForDeleting\n    },\n\n    onCheckScoreForAbility(kindAbility) {\n        cc.systemEvent.emit(GameEvent.IS_SCORE_ENOUGH, kindAbility, this.scoreForInitializing);\n    }\n });\n \n"]}